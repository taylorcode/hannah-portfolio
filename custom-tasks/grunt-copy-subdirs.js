// Generated by CoffeeScript 1.6.3
(function() {
  var titleCaseToDash;

  titleCaseToDash = function(str) {
    return str.replace(/\s+/g, '-').toLowerCase();
  };

  module.exports = function(grunt) {
    return grunt.registerMultiTask("copySubdirs", "Creates project JSON file.", function() {
      var dest, src;
      src = this.data.src;
      dest = this.data.dest;
      return grunt.file.recurse(src, function(abspath, rootdir, subdir, filename) {
        var fileDest;
        if (filename.charAt(0) === '.') {
          return;
        }
        fileDest = titleCaseToDash(dest + '/' + subdir.split('/')[1]);
        if (!grunt.file.exists(fileDest)) {
          grunt.file.mkdir(fileDest);
        }
        return grunt.file.copy(abspath, fileDest + '/' + titleCaseToDash(filename));
      });
    });
  };

}).call(this);
